<h2> Lista de Usuarios</h2>

<button class="save" style="margin:10px;" mat-button (click)="openDialog()"> Add User </button>


<div class="table-container">
    <table mat-table [dataSource]="users" class="mat-elevation-z8">
  
      <!-- Username Column -->
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef> Username </th>
        <td mat-cell *matCellDef="let user"> 
            <div *ngIf="!user.status"> {{user.userName}} </div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.userName">

        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let user"> 
            <div *ngIf="!user.status"> {{user.name}} </div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.name">

        </td>
      </ng-container>

      <!-- LastName Column -->
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> LastName </th>
        <td mat-cell *matCellDef="let user"> 
            <div *ngIf="!user.status">{{user.lastName}} </div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.lastName">

        </td>
      </ng-container>
  
      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let user"> 
            <div *ngIf="!user.status">{{user.email}} </div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.email">
        </td>
      </ng-container>

      <!-- UserType Column -->
      <ng-container matColumnDef="userType">
        <th mat-header-cell *matHeaderCellDef> UserType </th>
        <td mat-cell *matCellDef="let user">  
            <div *ngIf="!user.status">{{user.userType}}</div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.userType">

        </td>
      </ng-container>

      <!-- Department Column -->
      <ng-container matColumnDef="department">
        <th mat-header-cell *matHeaderCellDef> Department </th>
        <td mat-cell *matCellDef="let user"> 
            <div *ngIf="!user.status"> {{user.department}} </div>
            <input matInput *ngIf="user.status" type="text" [(ngModel)] = "user.department">
        </td>
      </ng-container>

      <!-- Edit/Save Button -->
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> EDIT </th>
        <td mat-cell *matCellDef="let user">
          <button class="edit" mat-button *ngIf="!user.status" (click)="toggleEdit(user)"> Edit </button>
          <button class="save" mat-button *ngIf="user.status" (click)="save(user)">Save</button>
          <button class="cancel" mat-button *ngIf="user.status" (click)="cancel(user)">Cancel</button>

        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> DELETE </th>
        <td mat-cell *matCellDef="let user">
          <button class="delete" mat-button (click)="delete(user)">Delete</button>

        </td>
      </ng-container>

      <!-- Header and Row Declarations -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  